(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,v=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function o(e){return s.p+"js/"+({signup:"signup"}[e]||e)+"."+{signup:"83017795"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var l=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,r[1](l)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/my-service/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";r("85ec")},"03de":function(e,t,r){e.exports=r.p+"img/icon.211da65f.svg"},"0613":function(e,t,r){"use strict";var n=r("2b0e"),a=r("2f62"),i=r("5530"),o=(r("ac1f"),r("841c"),r("d3b7"),r("d81d"),r("79f6")),s="/account",c=function(e){return o["b"].post("".concat(s,"/login"),e)},l=function(e){return o["b"].post("".concat(s,"/register"),e)},u=function(e){return o["b"].post("".concat(s,"/change-password"),e)},d=r("b8f0"),v=r("afbc");function m(e){return e&&void 0!==e._id&&null!==e._id}var p={namespaced:!0,state:function(){return{token:"",user:"",status:"",search:[],tmp_user:{}}},mutations:{loginRequest:function(e,t){e.status={loggingIn:!1},e.user=t,j.commit("save",e)},loginFailure:function(e){e.status={},e.user=null,j.commit("save",e)},loginSuccess:function(e,t){e.status={loggedIn:!0},e.user=t.user,e.token=t.token,j.commit("save",e)},logout:function(e){e.status={},e.user=null,e.token=null,j.commit("save",e),j.dispatch("alert/info","The user is disconnected",{root:!0}),v["a"].push("/login")},updateSearch:function(e,t){e.search=t,j.commit("save",e)},updateTmpUser:function(e,t){e.tmp_user=t},updateUser:function(e,t){e.user=t,j.commit("save",e)}},actions:{login:function(e,t){var r=e.dispatch,n=e.commit,a=t.email,i=t.password;n("loginRequest",{email:a}),c({email:a,password:i}).then((function(e){var t;n("loginSuccess",e.data),r("alert/success","The user has been connected",{root:!0}),v["a"].push((null===(t=v["a"].currentRoute.query)||void 0===t?void 0:t.redirect)||"/timeline")}),(function(e){n("loginFailure",e)}))},register:function(e,t){var r=e.dispatch,n=e.commit;return new Promise((function(e,a){l(t).then((function(t){n("loginSuccess",t.data),r("alert/success","The user has been registered",{root:!0}),e(!0)})).catch((function(){}))}))},logout:function(e){var t=e.commit;t("logout")},loadSearch:function(e,t){var r=e.commit,n=t.query;Object(d["a"])(n).then((function(e){r("updateSearch",e.data)}))},loadUser:function(e,t){var r=e.commit,n=t.id,a=t.update_user,i=void 0!==a&&a,o=i?"updateUser":"updateTmpUser";r(o,{}),Object(d["c"])(n).then((function(e){r(o,e.data)}))},changePassword:function(e,t){e.commit;var r=t.oldPassword,n=t.newPassword;u({oldPassword:r,newPassword:n}).then((function(){j.dispatch("alert/success","The password has been modified",{root:!0})}))},updateUser:function(e,t){e.commit;Object(d["e"])(Object(i["a"])({},t)).then((function(){j.dispatch("alert/success","The user has been modified",{root:!0})}))},subscribeService:function(e,t){e.commit;Object(d["d"])({id:t}).catch((function(){j.dispatch("alert/error","An error occurred while registering the payment",{root:!0})}))}},getters:{isLogged:function(e){return"undefined"!=typeof e.token&&e.token},getName:function(e){return m(e.user)?e.user.lastname+" "+e.user.firstname:""},getUser:function(e){return e.user},getServiceIds:function(e){return e.user.services.map((function(e){return e.serviceId}))},belongUserPayment:function(e){return function(t){return t&&-1!==e.user.payments.indexOf(t)}}}},f=p,h=r("ee35"),b=r("f1a0"),g="/tags/",_=function(){return o["b"].get(g)},w={namespaced:!0,state:function(){return{timeline:[],tags:[]}},mutations:{updateTimeline:function(e,t){e.timeline=t,j.commit("save",e)},updateTags:function(e,t){e.tags=t,j.commit("save",e)}},actions:{loadTimeline:function(e){var t=e.commit;Object(h["c"])().then((function(e){t("updateTimeline",Object(b["a"])(e.data))}))},loadTags:function(e){var t=e.commit;_().then((function(e){var r;t("updateTags",null===(r=e.data)||void 0===r?void 0:r.tags)}))},deleteService:function(e,t){e.commit;Object(h["b"])(t).then((function(){j.dispatch("alert/success","The service has been deleted, refresh",{root:!0})}))}},getters:{belongAuthUser:function(e,t,r,n){return function(e){return e&&-1!==n["user/getServiceIds"].indexOf(e)}}}},y=w,k={namespaced:!0,state:function(){return{type:null,message:null}},mutations:{success:function(e,t){e.type="success",e.message=t},error:function(e,t){e.type="error",e.message=t},info:function(e,t){e.type="info",e.message=t},clear:function(e){e.type=null,e.message=null}},actions:{success:function(e,t){var r=e.commit;r("success",t)},error:function(e,t){var r=e.commit;r("error",t)},info:function(e,t){var r=e.commit;r("info",t)},clear:function(e){var t=e.commit;t("clear")}},getters:{}},x=k,V=(r("2ca0"),{namespaced:!0,state:function(){return{}},mutations:{},actions:{},getters:{loadPhoto:function(){return function(e){return!e||e.toLowerCase().startsWith("http")?e:o["a"]+"static/"+e}}}}),O=V;n["a"].use(a["a"]);var j=t["a"]=new a["a"].Store({modules:{user:f,service:y,alert:x,utils:O},mutations:{save:function(e){localStorage.setItem("vuex",JSON.stringify(e))},read:function(e){var t=JSON.parse(localStorage.getItem("vuex")||"{}");this.replaceState(Object.assign(e,t))}}})},5482:function(e,t,r){},"5afb":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"fill-height":""}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"1",md:"2",lg:"3"}}),r("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[e._t("default",[e._v(" ... ")])],2),r("v-col",{attrs:{cols:"12",sm:"1",md:"2",lg:"3"}})],1)],1)},a=[],i=r("5530"),o=r("2b0e"),s=r("2f62"),c=o["a"].extend({data:function(){return{}},computed:Object(i["a"])(Object(i["a"])({},Object(s["d"])("user",["search"])),Object(s["c"])("utils",["loadPhoto"])),methods:{},watch:{}}),l=c,u=r("2877"),d=r("6544"),v=r.n(d),m=r("62ad"),p=r("a523"),f=r("0fd9"),h=Object(u["a"])(l,n,a,!1,null,null,null);t["a"]=h.exports;v()(h,{VCol:m["a"],VContainer:p["a"],VRow:f["a"]})},"79f6":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("d3b7");var n=r("bc3a"),a=r.n(n),i=r("0613"),o="https://my-service-ts.herokuapp.com/",s=a.a.create({baseURL:o,timeout:1e3,headers:{"Content-Type":"application/json"}}),c=function(e){return e.headers["Authorization"]="Bearer "+i["a"].state.user.token,e},l=function(e){var t,r,n;console.error(null===(t=e.response)||void 0===t?void 0:t.status,e.message),i["a"].dispatch("alert/error",e.message+" "+(null!==(r=null===(n=e.response)||void 0===n?void 0:n.status)&&void 0!==r?r:""),{root:!0})};s.interceptors.request.use(c);var u=function(e){if(!e.response)return l(e),Promise.reject(e);switch(e.response.status){case 400:l(e);break;case 401:l(e),i["a"].dispatch("user/logout");break;default:l(e)}return Promise.reject(e)},d=function(e){switch(e.status){case 200:break;default:}return e};s.interceptors.response.use(d,u),t["b"]=s},8080:function(e,t,r){"use strict";r("5482")},"85ec":function(e,t,r){},"9b19":function(e,t,r){e.exports=r.p+"img/logo.7fea6bdb.svg"},afbc:function(e,t,r){"use strict";r("d3b7"),r("3ca3"),r("ddb0");var n=r("2b0e"),a=r("8c4f"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("FloatButton"),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){t.hover;return[e._e()]}}])})],1),r("v-col",{staticClass:"pt-6",attrs:{cols:"12",sm:"8"}},[e.timeline?r("div",[r("v-combobox",{attrs:{items:e.tags,chips:"",clearable:"",label:"Filter by tags ...",multiple:"",rounded:"","prepend-inner-icon":"mdi-filter-variant",solo:""},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.attrs,a=t.item,i=t.select,o=t.selected;return[r("v-chip",e._b({attrs:{"input-value":o,close:"",color:"primary",small:"",outlined:""},on:{click:i,"click:close":function(t){return e.removeTag(a)}}},"v-chip",n,!1),[r("v-icon",{attrs:{color:"primary",left:"",small:""}},[e._v("mdi-tag-outline")]),r("strong",[e._v(" "+e._s(a))])],1)]}}]),model:{value:e.filterTags,callback:function(t){e.filterTags=t},expression:"filterTags"}}),e._l(e.timelineFiltered,(function(e,t){return r("div",{key:t},[r("Service",{staticClass:"mb-7",attrs:{item:e}})],1)})),r("br")],2):r("div",e._l(3,(function(e,t){return r("v-skeleton-loader",{key:t,staticClass:"rounded-xl mb-7",attrs:{elevation:"1",type:"card"}})})),1)]),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[r("v-sheet",{staticStyle:{position:"sticky",top:"80px","z-index":"2"},attrs:{rounded:"xl","min-height":"268",elevation:n?5:1}},[r("v-list",{attrs:{dense:"",rounded:"",color:"transparent"}},[r("v-list-item-content",{staticClass:"text-center"},[r("v-list-item-title",[r("strong",[e._v("Trends tags ")])])],1),r("v-list-item-group",e._l(e.tags.slice(0,10),(function(t,n){return r("v-list-item",{key:n,on:{click:function(r){return e.addTag(t)}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-trending-up")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t)}})],1)],1)})),1)],1)],1)]}}])})],1)],1)],1)},o=[],s=r("2909"),c=r("5530"),l=r("1da1"),u=(r("4de4"),r("caad"),r("2532"),r("a434"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[r("v-card",{attrs:{rounded:"xl",hover:n}},[r("v-img",{attrs:{contain:"","max-height":"250",src:e.loadPhoto(e.item.photo),gradient:"to top right, rgba(100,80,80,.3), rgba(100,100,100,.1)","lazy-src":"https://picsum.photos/id/11/100/60"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[r("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[r("v-spacer"),r("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",color:"white"}},"v-btn",a,!1),n),[r("v-icon",[e._v("mdi-eye")])],1)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-img",{attrs:{contain:"",src:e.loadPhoto(e.item.photo),"lazy-src":"https://picsum.photos/id/11/100/60"}},[r("v-btn",{attrs:{raised:"",icon:"",dense:"",small:"",color:"primary",elevation:"3"},on:{click:function(t){e.dialog=!1}}},[r("v-icon",[e._v("mdi-close")])],1)],1)],1)],1),e.isCurrentUser?r("v-menu",{attrs:{transition:"slide-x-transition",bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:"",color:"white"}},"v-btn",a,!1),n),[r("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[r("v-list",[r("v-subheader",[e._v("Options")]),r("v-list-item-group",[r("v-list-item",{on:{click:function(t){return e.deleteService(e.item.serviceId)}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-delete")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Delete")])],1)],1)],1)],1)],1):e._e()],1),e.showUser?r("v-card-title",{staticClass:"white--text mt-8"},[r("v-avatar",{attrs:{size:"56"}},[r("router-link",{attrs:{to:"/user/"+e.item._id}},[r("v-img",{attrs:{src:e.loadPhoto(e.item.profile)}})],1)],1),r("div",{staticClass:"ml-3"},[e._v(" "+e._s(e._f("uppercase")(e.item.lastname))+" "+e._s(e.item.firstname)+" "),r("br"),r("div",{staticClass:"text-caption dark--text"},[e._v("5 min ago")])])],1):e._e()],1),r("v-card-text",[r("div",{staticClass:"font-weight-bold ml-8 mb-2"},[e._v(" "+e._s(e.item.name)+" ")]),e.item.description?r("div",{staticClass:"ml-8 mb-5"},[e._v(" "+e._s(e._f("truncate")(e.item.description,300))+" ")]):e._e(),r("div",{staticClass:"ml-8 mb-2"},[r("v-row",[r("v-col",e._l(e.item.tags,(function(t,n){return r("v-chip",{key:n,staticClass:"mr-2 mb-2",attrs:{color:"green",small:"",outlined:""}},[e._v(e._s(t))])})),1),r("v-col",{attrs:{align:"end"}},[r("v-chip",{attrs:{color:"orange","text-color":"white",small:""}},[e._v(" "+e._s(e.item.price)+" "),r("v-avatar",{attrs:{right:""}},[r("v-icon",[e._v(" mdi-currency-eur ")])],1)],1)],1)],1)],1)]),r("v-card-actions",[e.isCurrentUser?e._e():r("div",[e.belongUserPayment(e.item.serviceId)?r("v-btn",{attrs:{color:"success",rounded:"",text:""}},[e._v(" Subscribed ")]):r("v-btn",{attrs:{color:"primary",rounded:"",text:""},on:{click:function(t){e.show=!e.show}}},[e._v(" Subscribe ")])],1),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){e.show=!e.show}}},[r("v-icon",[e._v(e._s(e.show?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[r("v-divider"),r("v-card-text",[r("Subscribe",{attrs:{service:e.item}})],1)],1)])],1)]}}])})}),d=[],v=(r("fb6a"),r("2f62")),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isCurrentUser?r("div",[r("div",{staticClass:"text-h5 pb-3"},[e._v(" "+e._s(e.service.name)+" ")]),r("p",[e._v(e._s(e.service.description))])]):r("div",[r("div",{staticClass:"text-h6 pb-3"},[e._v(" Subscribe"+e._s(e.paidFor?"d":"")+" to "+e._s(e.service.name)+" - "+e._s(e.service.price)+"€ ")]),r("p",[e._v(e._s(e.service.description))]),e.paidFor?e._e():r("div",{staticClass:"text-center"},[r("div",{ref:"paypal"})]),e.paidFor?r("div",[r("v-alert",{attrs:{elevation:"3",text:"",type:"success"}},[e._v(" Your payment has been registered ")])],1):e._e()])])},p=[],f=(r("b0c0"),n["a"].extend({props:{service:{type:Object}},data:function(){return{loaded:!1,paidFor:!1,isCurrentUser:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(v["c"])("user",["belongUserPayment"])),Object(v["c"])("service",["belongAuthUser"])),methods:Object(c["a"])({},Object(v["b"])("user",["subscribeService"])),created:function(){this.paidFor=this.belongUserPayment(this.service.serviceId),this.isCurrentUser=this.belongAuthUser(this.service.serviceId)},mounted:function(){var e=this;this.paidFor||(this.loaded=!0,window.paypal.Buttons({createOrder:function(t,r){return r.order.create({purchase_units:[{description:e.service.name,amount:{currency_code:"EUR",value:e.service.price}}]})},onApprove:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.subscribeService(e.service.serviceId).then((function(){e.paidFor=!0,e.$store.dispatch("alert/success","The payment was successfully completed",{root:!0})}));case 1:case"end":return t.stop()}}),t)})));function r(e,r){return t.apply(this,arguments)}return r}(),onError:function(t){e.$store.dispatch("alert/error","An error occurred during payment",{root:!0})}}).render(this.$refs.paypal))}})),h=f,b=r("2877"),g=r("6544"),_=r.n(g),w=r("0798"),y=Object(b["a"])(h,m,p,!1,null,null,null),k=y.exports;_()(y,{VAlert:w["a"]});var x=n["a"].extend({components:{Subscribe:k},filters:{uppercase:function(e){return null===e||void 0===e?void 0:e.toUpperCase()},truncate:function(e,t){return e.length>t?e.slice(0,t)+"...":e}},props:{item:Object,showUser:{type:Boolean,default:!0}},data:function(){return{show:!1,dialog:!1,isCurrentUser:!1}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(v["c"])("user",["belongUserPayment"])),Object(v["c"])("service",["belongAuthUser"])),Object(v["c"])("utils",["loadPhoto"])),methods:Object(c["a"])({},Object(v["b"])("service",["deleteService"])),created:function(){this.isCurrentUser=this.belongAuthUser(this.item.serviceId)}}),V=x,O=r("40dc"),j=r("8212"),C=r("8336"),S=r("b0af"),T=r("99d9"),I=r("cc20"),L=r("62ad"),P=r("169a"),U=r("ce7e"),$=r("0789"),A=r("ce87"),F=r("132d"),E=r("adda"),R=r("8860"),q=r("da13"),B=r("5d23"),N=r("1baa"),z=r("34c3"),M=r("e449"),D=r("490a"),Y=r("0fd9"),H=r("2fa4"),J=r("e0c7"),G=Object(b["a"])(V,u,d,!1,null,null,null),W=G.exports;_()(G,{VAppBar:O["a"],VAvatar:j["a"],VBtn:C["a"],VCard:S["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VChip:I["a"],VCol:L["a"],VDialog:P["a"],VDivider:U["a"],VExpandTransition:$["a"],VHover:A["a"],VIcon:F["a"],VImg:E["a"],VList:R["a"],VListItem:q["a"],VListItemContent:B["a"],VListItemGroup:N["a"],VListItemIcon:z["a"],VListItemTitle:B["c"],VMenu:M["a"],VProgressCircular:D["a"],VRow:Y["a"],VSpacer:H["a"],VSubheader:J["a"]});var Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"main primary--text",fixed:"",right:"",bottom:"",elevation:"5",fab:"",link:"",to:"/add"}},"v-btn",a,!1),n),[r("v-icon",{attrs:{dark:""}},[e._v("mdi-text-box-plus")])],1)]}}])},[r("span",[e._v("Add a service")])])},X=[],K=n["a"].extend({data:function(){return{}},components:{},computed:Object(c["a"])({},Object(v["c"])("user/",["isLogged"])),methods:{}}),Z=K,ee=r("3a2f"),te=Object(b["a"])(Z,Q,X,!1,null,null,null),re=te.exports;_()(te,{VBtn:C["a"],VIcon:F["a"],VTooltip:ee["a"]});var ne=n["a"].extend({components:{Service:W,FloatButton:re},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("service/loadTimeline"),e.$store.dispatch("service/loadTags");case 2:case"end":return t.stop()}}),t)})))()},computed:Object(c["a"])(Object(c["a"])({},Object(v["d"])("service",["timeline","tags"])),{},{timelineFiltered:function(){var e=this;return this.timeline.filter((function(t){if(!Array.isArray(e.filterTags)||!e.filterTags.length)return!0;var r=t.tags.filter((function(t){return e.filterTags.includes(t)}));return null===r||void 0===r?void 0:r.length}))}}),watch:{filterTags:function(e){this.timelineFiltered}},methods:{removeTag:function(e){this.filterTags.splice(this.filterTags.indexOf(e),1),this.filterTags=Object(s["a"])(this.filterTags)},addTag:function(e){this.filterTags.includes(e)||this.filterTags.push(e)}},data:function(){return{hover:!1,tag:null,filterTags:[]}}}),ae=ne,ie=r("2b5d"),oe=r("8dd9"),se=r("3129"),ce=Object(b["a"])(ae,i,o,!1,null,null,null),le=ce.exports;_()(ce,{VChip:I["a"],VCol:L["a"],VCombobox:ie["a"],VHover:A["a"],VIcon:F["a"],VList:R["a"],VListItem:q["a"],VListItemContent:B["a"],VListItemGroup:N["a"],VListItemIcon:z["a"],VListItemTitle:B["c"],VRow:Y["a"],VSheet:oe["a"],VSkeletonLoader:se["a"]});var ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[this.getUser._id?r("div",[r("FloatButton"),r("v-card",{staticClass:"mx-auto ma-5 rounded-lg",attrs:{elevation:"2","max-width":"1100",outlined:""}},[r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline"},[e._v(" "+e._s(e.user.lastname)+" "+e._s(e.user.firstname)+" ")]),this.getUser.created_at?r("v-list-item-subtitle",{staticClass:"font-italic font-weight-light caption"},[r("v-icon",[e._v("mdi-account-plus")]),e._v(" Created at "+e._s(this.getUser.created_at)+" ")],1):e._e(),this.getUser.updated_at?r("v-list-item-subtitle",{staticClass:"font-italic font-weight-light caption"},[r("v-icon",[e._v("mdi-update")]),e._v(" Updated at "+e._s(this.getUser.updated_at)+" ")],1):e._e()],1),r("v-list-item-avatar",{staticClass:"rounded-lg",attrs:{tile:"",size:"120",color:"grey"}},[r("v-img",{attrs:{src:e.loadPhoto(this.getUser.profile)}})],1)],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"First Name",outlined:""},model:{value:e.user.firstname,callback:function(t){e.$set(e.user,"firstname",t)},expression:"user.firstname"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Last Name",outlined:""},model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname",t)},expression:"user.lastname"}})],1)],1),r("v-text-field",{ref:"email",attrs:{rules:e.emailRules,label:"Email",placeholder:"john@doe.com","prepend-inner-icon":"mdi-email-outline",required:"",outlined:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-snackbar",{attrs:{timeout:"-1"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{color:"error",text:"",raised:"",disabled:!e.validForm,block:e.validForm},on:{click:e.modifyUser}},"v-btn",n,!1),[e._v(" Update ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" Save your changes ? ")])],1),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{ref:"oldPassword",attrs:{"prepend-inner-icon":"mdi-lock-open-variant","append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[function(){return e.oldPassword&&e.oldPassword.length>=8||"Password must be more than 8 characters"}],type:e.show?"text":"oldPassword",label:"Old password",hint:"At least 8 characters","clear-icon":"mdi-close-circle",counter:"",clearable:"",outlined:"",required:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{ref:"newPassword",attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off","append-outer-icon":"mdi-lock-reset",rules:[function(){return e.newPassword&&e.newPassword.length>=8||"Password must be more than 8 characters"}],type:e.show?"text":"newPassword",label:"New password",hint:"At least 8 characters","clear-icon":"mdi-close-circle","prepend-inner-icon":"mdi-lock",counter:"",clearable:"",outlined:"",required:""},on:{"click:append":function(t){e.show=!e.show},"click:append-outer":function(t){return e.changeMyPassword()}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1),r("h2",{staticClass:"pb-5"},[e._v("Subscriptions")]),e._v(" You can see all your subscriptions "),r("router-link",{attrs:{to:"/subscription"}},[e._v("in the dedicated page")]),r("h2",{staticClass:"pt-5 pb-5"},[e._v("Services")]),this.user.services.length>0?r("div",e._l(this.getServices,(function(t,n){return r("div",{key:n},[r("Service",{staticClass:"mb-7",attrs:{elevation:e.hover?3:1,item:t,showUser:!1}})],1)})),0):r("div",[e._v(" You have not created service yet, "),r("router-link",{attrs:{to:"/add"}},[e._v("create one")])],1)],1)],1)],1):r("v-skeleton-loader",{attrs:{type:"list-item-avatar, divider, list-item-three-line, image, article",elevation:"2"}})],1)},de=[],ve=r("f1a0"),me=n["a"].extend({data:function(){return{user:{},newPassword:"",oldPassword:"",show:!1,validForm:!0,hover:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],snackbar:!1}},components:{Service:W,FloatButton:re},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(v["c"])("user/",["getUser"])),Object(v["c"])("utils",["loadPhoto"])),{},{getServices:function(){return Object(ve["a"])([this.user])},form:function(){return this.$refs.form}}),methods:Object(c["a"])(Object(c["a"])({},Object(v["b"])("user",["changePassword","updateUser","loadUser"])),{},{changeMyPassword:function(){this.oldPassword.length<8||this.newPassword.length<8?this.$store.dispatch("alert/error","Thank you for properly entering the old and the new password",{root:!0}):this.changePassword({oldPassword:this.oldPassword,newPassword:this.newPassword})},modifyUser:function(){this.snackbar=!1,this.updateUser({email:this.user.email,firstname:this.user.firstname,lastname:this.user.lastname})}}),watch:{getUser:function(){var e=this;this.user=this.getUser,this.$watch("user",(function(){return e.snackbar=!0}),{deep:!0})}},beforeCreate:function(){var e,t=null!==(e=this.$store.getters["user/getUser"]._id)&&void 0!==e&&e;t&&this.$store.dispatch("user/loadUser",{id:t,update_user:!0})}}),pe=me,fe=r("4bd4"),he=r("8270"),be=r("2db4"),ge=r("8654"),_e=Object(b["a"])(pe,ue,de,!1,null,null,null),we=_e.exports;_()(_e,{VBtn:C["a"],VCard:S["a"],VCardText:T["b"],VCol:L["a"],VForm:fe["a"],VIcon:F["a"],VImg:E["a"],VListItem:q["a"],VListItemAvatar:he["a"],VListItemContent:B["a"],VListItemSubtitle:B["b"],VListItemTitle:B["c"],VRow:Y["a"],VSkeletonLoader:se["a"],VSnackbar:be["a"],VTextField:ge["a"]});var ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[this.getUser._id?r("v-card",{staticClass:"mx-auto ma-5 rounded-lg",attrs:{elevation:"2","max-width":"1100",outlined:""}},[r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline mb-3"},[e._v(" "+e._s(this.getUser.lastname)+" "+e._s(this.getUser.firstname)+" ")]),this.getUser.created_at?r("v-list-item-subtitle",{staticClass:"font-italic font-weight-light caption"},[r("v-icon",[e._v("mdi-account-plus")]),e._v(" Created at "+e._s(this.getUser.created_at)+" ")],1):e._e(),this.getUser.updated_at?r("v-list-item-subtitle",{staticClass:"font-italic font-weight-light caption"},[r("v-icon",[e._v("mdi-update")]),e._v(" Updated at "+e._s(this.getUser.updated_at)+" ")],1):e._e()],1),r("v-list-item-avatar",{staticClass:"rounded-lg",attrs:{tile:"",size:"120",color:"grey"}},[r("v-img",{attrs:{src:e.loadPhoto(this.getUser.profile)}})],1)],1),r("v-card-text",[r("h2",{staticClass:"pb-5"},[e._v("Services")]),this.getServices.length>0?r("div",e._l(this.getServices,(function(t,n){return r("div",{key:n},[r("Service",{staticClass:"mb-7",attrs:{elevation:e.hover?3:1,item:t,showUser:!1}})],1)})),0):r("div",[e._v(" "+e._s(this.getUser.firstname||"This user")+" has not created any service ")])])],1):r("v-skeleton-loader",{attrs:{type:"list-item-avatar, divider, list-item-three-line, image, article",elevation:"2"}})],1)},ke=[],xe=n["a"].extend({data:function(){return{hover:!1,dialog:!0}},components:{Service:W},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(v["d"])("user",["tmp_user"])),Object(v["c"])("utils",["loadPhoto"])),{},{getUser:function(){return this.tmp_user},getServices:function(){return Object(ve["a"])([this.getUser])}}),methods:{},beforeCreate:function(){if(this.$route.params.id===this.$store.getters["user/getUser"]._id)return this.$router.push("/me");this.$store.dispatch("user/loadUser",{id:this.$route.params.id})}}),Ve=xe,Oe=Object(b["a"])(Ve,ye,ke,!1,null,null,null),je=Oe.exports;_()(Oe,{VCard:S["a"],VCardText:T["b"],VIcon:F["a"],VImg:E["a"],VListItem:q["a"],VListItemAvatar:he["a"],VListItemContent:B["a"],VListItemSubtitle:B["b"],VListItemTitle:B["c"],VSkeletonLoader:se["a"]});var Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.$router.back()}}},[r("v-icon",[e._v("mdi-close")])],1),r("v-toolbar-title",[e._v(" New service : "+e._s(e.name)+" ")])],1),r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(" Principal information ")]),r("v-divider"),r("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v(" Adding a photo ")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-text-field",{ref:"name",staticClass:"pt-3",attrs:{label:"Name of the new service",placeholder:"GitHub's Online Schema Migrations for MySQL","prepend-inner-icon":"mdi-information",counter:"",outlined:"",required:"",rules:[function(){return e.name&&e.name.length>=8||"Name must be more than 8 characters"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-textarea",{ref:"description",attrs:{name:"input-7-4",label:"Description of the service",placeholder:"gh-ost is a triggerless online schema migration solution for MySQL. It is testable and provides pausability, dynamic control/reconfiguration, auditing, and many operational perks.","prepend-inner-icon":"mdi-text",counter:"",outlined:"",required:"",rules:[function(){return e.description&&e.description.length>=15||"Description must be more than 15 characters"}]},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-combobox",{attrs:{items:e.tags_items,"search-input":e.search,"hide-selected":"",label:"Add some tags",multiple:"",outlined:"","prepend-inner-icon":"mdi-tag-multiple",counter:"","persistent-hint":"","small-chips":"",required:"",rules:[function(){return e.tags&&e.tags.length>=1||"You must add at least one tag"}]},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v(' No results matching "'),r("strong",[e._v(e._s(e.search))]),e._v('". Press '),r("kbd",[e._v("enter")]),e._v(" to create a new one ")])],1)],1)]},proxy:!0}]),model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}}),r("v-text-field",{ref:"price",attrs:{type:"number",label:"Price of the new service",placeholder:"55.5","prepend-inner-icon":"mdi-currency-eur",counter:"",outlined:"",required:"",rules:[function(){return e.price&&e.price>=0||"Price need to be positive"}]},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),r("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.submit_1}},[e._v(" Continue ")]),r("v-btn",{attrs:{text:""},on:{click:function(t){return e.form.reset()}}},[e._v(" Cancel ")])],1),r("v-stepper-content",{attrs:{step:"2"}},[r("h1",[e._v("Add a photo to your service")]),r("br"),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.filephoto?e._e():r("v-text-field",{ref:"urlphoto",attrs:{type:"string",label:"Enter the URL of the photo",placeholder:"https://picsum.photos/1250/400?random=1","prepend-icon":"mdi-link",counter:"",outlined:"",rules:e.urlphotoRules},model:{value:e.urlphoto,callback:function(t){e.urlphoto=t},expression:"urlphoto"}}),r("p",[e._v("Or, You can add an image by uploading it")]),e.urlphoto?e._e():r("v-file-input",{ref:"filephoto",attrs:{"show-size":"",outlined:"",accept:"image/*",label:"Choose a photo for service","truncate-length":"15","prepend-icon":"mdi-camera",rules:[function(t){return e.filephoto&&e.filephoto.size<2e6||"Photo size should be less than 2 MB!"}]},model:{value:e.filephoto,callback:function(t){e.filephoto=t},expression:"filephoto"}}),r("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.submit_2}},[e._v(" Continue ")]),r("v-btn",{staticClass:"ma-2",attrs:{color:"error"},on:{click:function(t){return e.$router.back()}}},[e._v(" Don't add a picture ")])],1)],1)],1)],1)],1)],1)],1)},Se=[],Te=(r("2ca0"),r("a4d3"),r("e01a"),r("c35a"),r("a9e3"),r("ee35")),Ie=n["a"].extend({data:function(){return{service:null,show:!0,name:"",description:"",price:"",valid:!0,tags:[],search:null,e1:1,urlphoto:null,filephoto:null,urlphotoRules:[function(e){return e&&e.length>0&&e.startsWith("http")&&Object(ve["b"])(e)||"You must add an url that is a image"}]}},beforeCreate:function(){this.$store.dispatch("service/loadTags")},components:{},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(v["d"])("service",{tags_items:"tags"})),Object(v["c"])("user",["isLogged"])),{},{form:function(){return this.$refs.form}}),watch:{tags:function(e){var t=this;e.length>5&&this.$nextTick((function(){return t.tags.pop()}))}},methods:{validURL:ve["b"],submit_1:function(){var e=this;this.form.validate()&&Object(Te["a"])({name:this.name,description:this.description,price:Number.parseFloat(this.price),tags:this.tags}).then((function(t){e.service=t.data,e.e1=2,e.$store.dispatch("alert/success","The service ".concat(e.name," has been created"),{root:!0})}))},submit_2:function(){var e,t,r,n,a,i,o,s=null!==(e=null===(t=this.$refs.urlphoto)||void 0===t?void 0:t.validate())&&void 0!==e&&e,c=null!==(r=null===(n=this.$refs.filephoto)||void 0===n?void 0:n.validate())&&void 0!==r&&r,l=null!==(a=null===(i=this.service.service)||void 0===i?void 0:i._id)&&void 0!==a?a:void 0;if(s&&this.urlphoto&&l)this.redireftAfterSubmit2(Object(Te["d"])(l,{photo:null!==(o=this.urlphoto)&&void 0!==o?o:void 0}));else if(c&&this.filephoto&&l){var u=new FormData;u.append("image",this.filephoto),this.redireftAfterSubmit2(Object(Te["e"])(l,u))}else this.$store.dispatch("alert/error","Can't add the photo",{root:!0})},redireftAfterSubmit2:function(e){var t=this;e.then((function(){t.$router.push("/timeline"),t.$store.dispatch("alert/success","The photo has been added",{root:!0})})).catch((function(){return t.$store.dispatch("alert/error","Can't add the photo",{root:!0})}))}}}),Le=Ie,Pe=r("23a7"),Ue=r("7e85"),$e=r("e516"),Ae=r("9c54"),Fe=r("56a4"),Ee=r("a844"),Re=r("71d9"),qe=r("2a7f"),Be=Object(b["a"])(Le,Ce,Se,!1,null,null,null),Ne=Be.exports;_()(Be,{VBtn:C["a"],VCombobox:ie["a"],VDialog:P["a"],VDivider:U["a"],VFileInput:Pe["a"],VForm:fe["a"],VIcon:F["a"],VListItem:q["a"],VListItemContent:B["a"],VListItemTitle:B["c"],VRow:Y["a"],VStepper:Ue["a"],VStepperContent:$e["a"],VStepperHeader:Ae["a"],VStepperItems:Ae["b"],VStepperStep:Fe["a"],VTextField:ge["a"],VTextarea:Ee["a"],VToolbar:Re["a"],VToolbarTitle:qe["a"]});var ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CenteredCard",[[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card",{staticClass:"rounded-lg"},[n("v-card-text",[n("div",{staticClass:"text-center"},[n("v-img",{attrs:{"aspect-ratio":"4",src:r("9b19")}})],1),n("h1",[e._v("Login")])]),n("v-card-text",[n("v-text-field",{ref:"email",attrs:{rules:e.emailRules,label:"Email",placeholder:"john@doe.com","prepend-inner-icon":"mdi-email-outline",required:"",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{ref:"password",attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[function(){return e.password&&e.password.length>=8||"Password must be more than 8 characters"}],type:e.show?"text":"password",label:"Password",hint:"At least 8 characters","prepend-inner-icon":"mdi-lock",counter:"",outlined:"",required:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-card-actions",[n("v-spacer"),n("v-slide-x-reverse-transition",[e.valid?e._e():n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"my-0",attrs:{icon:""},on:{click:e.resetForm}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-refresh")])],1)]}}],null,!1,522373079)},[n("span",[e._v("Refresh form")])])],1),n("v-btn",{staticClass:"rounded-lg",attrs:{color:"primary",raised:"",disabled:!e.valid,block:e.valid},on:{click:e.submit}},[e._v(" Login ")])],1)],1),n("br"),n("v-card",{attrs:{rounded:"lg"}},[n("v-card-text",{staticClass:"text-center"},[e._v(" New to my service? "),n("router-link",{attrs:{to:"/signup"}},[e._v(" Create an account ")])],1)],1)],1)]],2)},Me=[],De=r("5afb"),Ye=n["a"].extend({components:{CenteredCard:De["a"]},data:function(){return{email:null,password:null,show:!1,snackbar:!1,valid:!0,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(v["c"])("user",["isLogged"])),{},{form:function(){return this.$refs.form}}),methods:Object(c["a"])(Object(c["a"])({},Object(v["b"])("user",["login"])),{},{resetForm:function(){this.form.reset()},submit:function(){this.form.validate()&&this.login({email:this.email,password:this.password})}}),created:function(){var e,t=this;this.isLogged&&this.$router.push((null===(e=this.$route.query)||void 0===e?void 0:e.redirect)||"/timeline").catch((function(e){return t.$store.dispatch("alert/error","Can't redirect the user : "+e)}))}}),He=Ye,Je=Object(b["a"])(He,ze,Me,!1,null,null,null),Ge=Je.exports;_()(Je,{VBtn:C["a"],VCard:S["a"],VCardActions:T["a"],VCardText:T["b"],VForm:fe["a"],VIcon:F["a"],VImg:E["a"],VSlideXReverseTransition:$["d"],VSpacer:H["a"],VTextField:ge["a"],VTooltip:ee["a"]});var We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"1"}}),r("v-col",{attrs:{cols:"12",sm:"10"}},[r("p",{staticClass:"text-h3 pa-4 font-weight-light"},[e._v("Your subscriptions")]),e.show?r("div",[e.subscribed.length>0?r("div",e._l(e.subscribed,(function(e,t){return r("div",{key:t},[r("Service",{staticClass:"mb-7",attrs:{item:e}})],1)})),0):r("div",{staticClass:"pa-4"},[e._v(" You have not yet subscribed to any service, search or "),r("router-link",{attrs:{to:"/timeline"}},[e._v("discover new services")])],1)]):r("div",e._l(3,(function(e,t){return r("v-skeleton-loader",{key:t,staticClass:"rounded-xl mb-7",attrs:{elevation:"1",type:"card"}})})),1)]),r("v-col",{attrs:{cols:"12",sm:"1"}})],1)],1)},Qe=[],Xe=r("b8f0"),Ke=n["a"].extend({data:function(){return{show:!1,subscribed:[]}},created:function(){var e=this;Object(Xe["b"])().then((function(t){return e.show=!0,e.subscribed=Object(ve["a"])(t.data)}))},components:{Service:W}}),Ze=Ke,et=Object(b["a"])(Ze,We,Qe,!1,null,null,null),tt=et.exports;_()(et,{VCol:L["a"],VRow:Y["a"],VSkeletonLoader:se["a"]});var rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"12",sm:"1"}}),n("v-col",{attrs:{cols:"12",sm:"10"}},[n("div",{staticClass:"text-center"},[n("v-img",{attrs:{contain:"","aspect-ratio":"4",src:r("9b19"),"lazy-src":r("03de")}}),e.isLogged?n("div",{staticClass:"pb-10"},[n("v-btn",{attrs:{color:"primary",depressed:"",to:"/timeline"}},[e._v(" See my timeline ")])],1):e._e(),n("div",{staticClass:"text-subtitle-1 font-weight-light pb-5"},[e._v(" Look for your happiness "),n("br"),e._v(" Try to search for anything "),n("br"),n("v-icon",{attrs:{color:"primary"}},[e._v("mdi-search-web")])],1),n("v-sheet",{staticClass:"pa-3",attrs:{rounded:"xl",elevation:"5"}},[n("Search")],1)],1)]),n("v-col",{attrs:{cols:"12",sm:"1"}})],1)},nt=[],at=r("c106"),it=n["a"].extend({components:{Search:at["a"]},computed:Object(c["a"])({},Object(v["c"])("user",["isLogged"]))}),ot=it,st=(r("8080"),Object(b["a"])(ot,rt,nt,!1,null,"0193f7c7",null)),ct=st.exports;_()(st,{VBtn:C["a"],VCol:L["a"],VIcon:F["a"],VImg:E["a"],VRow:Y["a"],VSheet:oe["a"]});var lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("Not found")])},ut=[],dt={},vt=Object(b["a"])(dt,lt,ut,!1,null,null,null),mt=vt.exports,pt=r("0613");n["a"].use(a["a"]),pt["a"].commit("read");var ft=[{path:"/",name:"Home",component:ct},{path:"/timeline",name:"Timeline",component:le,meta:{requiresAuth:!0}},{path:"/me",name:"Me",component:we,meta:{requiresAuth:!0}},{path:"/add",name:"Add",component:Ne,meta:{requiresAuth:!0}},{path:"/user/:id",name:"Account",component:je,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Ge},{path:"/signup",name:"Register",component:function(){return r.e("signup").then(r.bind(null,"73cf"))}},{path:"/subscription",name:"Subscription",component:tt,meta:{requiresAuth:!0}},{path:"/404",name:"NotFound",component:mt},{path:"*",redirect:{name:"NotFound"}}],ht=new a["a"]({mode:"history",base:"/my-service/",scrollBehavior:function(e,t,r){return e.hash?{selector:e.hash}:r||{x:0,y:0}},routes:ft});ht.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))?pt["a"].getters["user/isLogged"]?r():r({name:"Login",query:{redirect:e.fullPath}}):r()}));t["a"]=ht},b8f0:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return u}));var n=r("79f6"),a="/user/",i=function(e){return n["b"].get(a+e)},o=function(e){return n["b"].post("".concat(a,"search/"),{query:e})},s=function(e){return n["b"].patch("".concat(a,"me"),e)},c=function(e){var t={headers:{crossdomain:!0,"Content-Type":"undefined"}};return n["b"].post("".concat(a,"upload/"),e,t)},l=function(e){return n["b"].post("".concat(a,"payment"),e)},u=function(){return n["b"].get("".concat(a,"payment"))}},c106:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-autocomplete",{staticClass:"rounded-lg",attrs:{loading:e.loading,items:e.getSearch,"search-input":e.callSearch,"menu-props":"closeOnContentClick",label:"Search users and services",placeholder:"Search users and services","prepend-inner-icon":"mdi-magnify",chips:"","hide-no-data":"","hide-details":"","hide-selected":"",clearable:"",solo:"",filled:"",dense:"",flat:"","item-text":"search","item-value":"_id",color:"primary","background-color":"background"},on:{"update:searchInput":function(t){e.callSearch=t},"update:search-input":function(t){e.callSearch=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-title",[e._v(" Search for your favorite "),r("strong",[e._v("User")]),e._v(" or "),r("strong",[e._v("Service")])])],1)]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-list-item",{attrs:{shaped:"",dense:"",ripple:"",link:"",to:"/user/"+n.user._id}},[r("v-list-item-avatar",{staticClass:"headline font-weight-light white--text"},[r("v-img",{attrs:{src:e.loadPhoto(n.photo)}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(n.name)}}),r("v-list-item-subtitle",{domProps:{innerHTML:e._s(n.user.firstname+" "+n.user.lastname)}})],1),r("v-list-item-action",[r("v-avatar",{attrs:{size:"40"}},[r("v-img",{attrs:{src:e.loadPhoto(n.user.profile)}})],1)],1)],1)]}}]),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},a=[],i=r("1da1"),o=r("b85c"),s=r("5530"),c=(r("96cf"),r("ac1f"),r("841c"),r("159b"),r("2b0e")),l=r("2f62"),u=c["a"].extend({data:function(){return{loading:!1,callSearch:null,model:"",timeout:0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])("user",["search"])),Object(l["c"])("utils",["loadPhoto"])),{},{getSearch:function(){if(!this.search||0==this.search.length)return[];var e,t=[],r=Object(o["a"])(this.search);try{var n=function(){var r=e.value;if(0==(null===r||void 0===r?void 0:r.services.length)){var n={user:Object(s["a"])({},r),search:""};n.search=JSON.stringify(n),t.push(n)}null===r||void 0===r||r.services.forEach((function(e){var n=Object(s["a"])(Object(s["a"])({},e),{},{user:Object(s["a"])({},r)});n.search=JSON.stringify(n),t.push(n)}))};for(r.s();!(e=r.n()).done;)n()}catch(a){r.e(a)}finally{r.f()}return t}}),methods:{querySelections:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.loading=!0,clearTimeout(t.timeout),t.timeout=setTimeout(Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("user/loadSearch",{query:e});case 2:t.loading=!1;case 3:case"end":return r.stop()}}),r)}))),1e3);case 3:case"end":return r.stop()}}),r)})))()}},watch:{callSearch:function(e){e&&e!==this.model&&this.querySelections(e)}}}),d=u,v=r("2877"),m=r("6544"),p=r.n(m),f=r("c6a6"),h=r("8212"),b=r("adda"),g=r("da13"),_=r("1800"),w=r("8270"),y=r("5d23"),k=Object(v["a"])(d,n,a,!1,null,null,null);t["a"]=k.exports;p()(k,{VAutocomplete:f["a"],VAvatar:h["a"],VImg:b["a"],VListItem:g["a"],VListItemAction:_["a"],VListItemAvatar:w["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"]})},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("4de4");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{style:{background:e.$vuetify.theme.themes[e.theme].background}},[r("Navigation",{attrs:{app:""}}),r("v-main",{attrs:{transition:"slide-x-transition"}},[r("v-container",{attrs:{fluid:""}},[r("Error"),r("router-view",{key:e.$route.fullPath})],1)],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{app:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[e.isLogged?n("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.logout}},[e._v(" Logout "),n("v-icon",[e._v("mdi-logout")])],1):n("v-btn",{attrs:{block:"",text:"",outlined:"",color:"primary"}},[n("router-link",{staticClass:"routerLink",attrs:{to:"/login"}},[n("v-icon",[e._v("mdi-login")]),e._v(" Login")],1)],1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{nav:"",shaped:""}},[n("v-list-item-group",{attrs:{"active-class":"primary main--text"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[n("v-list-item",{attrs:{to:"/"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v("Home")])],1),e.isLogged?n("v-list-item",{attrs:{to:"/timeline"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-timeline-text")])],1),n("v-list-item-title",[e._v("Timeline")])],1):e._e(),e.isLogged?n("v-list-item",{attrs:{to:"/me"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-title",[e._v("Account")])],1):e._e(),e.isLogged?n("v-list-item",{attrs:{to:"/subscription"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-ballot")])],1),n("v-list-item-title",[e._v("Subscriptions")])],1):e._e()],1)],1)],1),n("v-app-bar",{attrs:{id:"appbar","collapse-on-scroll":"","elevate-on-scroll":"",dense:"","min-width":"300",color:"main",app:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),n("v-toolbar-title",[n("router-link",{attrs:{to:"/"}},[n("v-img",{attrs:{"max-width":"250",src:r("9b19")}})],1)],1),n("v-spacer"),n("Search"),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{href:"https://github.com/av1m/my-service",icon:""}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-heart")])],1)]}}])},[n("span",[e._v("Star this project")])]),n("v-btn",{attrs:{icon:""}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[e.$vuetify.theme.dark?n("v-icon",{on:{click:e.darkMode}},[e._v("mdi-white-balance-sunny")]):n("v-icon",e._g(e._b({on:{click:e.darkMode}},"v-icon",a,!1),r),[e._v("mdi-moon-waxing-crescent ")])]}}])},[n("span",[e._v("Change theme")])])],1),e.isLogged?e._e():n("v-btn",{attrs:{icon:"",to:"/login"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-icon",e._g(e._b({},"v-icon",a,!1),r),[e._v("mdi-login ")])]}}],null,!1,82961873)},[n("span",[e._v("Login")])])],1),e.isLogged?n("v-menu",{attrs:{transition:"slide-x-transition",bottom:"",right:"","close-on-content-click":!1,"nudge-width":200,"offset-x":"",rounded:"lg"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-account-circle")])],1)]}}],null,!1,990591291),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-card",{attrs:{rounded:"lg"}},[n("router-link",{staticClass:"routerLink",attrs:{to:"/me"},nativeOn:{click:function(t){e.menu=!1}}},[n("v-list",[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:e.loadPhoto(e.getUser.profile),alt:"John"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.getName))]),n("v-list-item-subtitle",[e._v(e._s(e.getUser.email))])],1),n("v-list-item-action",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.logout}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-logout")])],1)]}}],null,!1,3421368416)},[n("span",[e._v("Logout")])])],1)],1)],1)],1),n("v-divider")],1)],1):e._e()],1)],1)},s=[],c=r("5530"),l=(r("d3b7"),r("25f0"),r("c106")),u=r("2f62"),d=n["a"].extend({components:{Search:l["a"]},data:function(){return{drawer:!1,menu:!1,searchString:"",group:""}},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])("user/",["isLogged","getName","getUser"])),Object(u["c"])("utils",["loadPhoto"])),methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])("user/",["logout"])),{},{darkMode:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark,localStorage.setItem("is_dark_theme",this.$vuetify.theme.dark.toString())}})}),v=d,m=r("2877"),p=r("6544"),f=r.n(p),h=r("40dc"),b=r("5bc1"),g=r("8336"),_=r("b0af"),w=r("ce7e"),y=r("132d"),k=r("adda"),x=r("8860"),V=r("da13"),O=r("1800"),j=r("8270"),C=r("5d23"),S=r("1baa"),T=r("34c3"),I=r("e449"),L=r("f774"),P=r("2fa4"),U=r("2a7f"),$=r("3a2f"),A=Object(m["a"])(v,o,s,!1,null,null,null),F=A.exports;f()(A,{VAppBar:h["a"],VAppBarNavIcon:b["a"],VBtn:g["a"],VCard:_["a"],VDivider:w["a"],VIcon:y["a"],VImg:k["a"],VList:x["a"],VListItem:V["a"],VListItemAction:O["a"],VListItemAvatar:j["a"],VListItemContent:C["a"],VListItemGroup:S["a"],VListItemIcon:T["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VMenu:I["a"],VNavigationDrawer:L["a"],VSpacer:P["a"],VToolbarTitle:U["a"],VTooltip:$["a"]});var E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{name:"snackbars"}},[r("v-snackbar",{attrs:{color:e.type,timeout:e.timeout,rounded:"xl",elevation:"24",top:"",outlined:"",right:""},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{text:"",icon:"",color:e.type},on:{click:function(t){e.clear(),e.show=!1}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v(" "+e._s(e.message)+" ")])],1)},R=[],q=(r("2ca0"),n["a"].extend({created:function(){var e=this;this.$store.subscribe((function(t,r){t.type.startsWith("alert/")&&(e.message=r.alert.message,e.type=r.alert.type,e.show=!0)}))},data:function(){return{show:!1,timeout:4e3,type:"",message:""}},methods:Object(c["a"])({},Object(u["b"])("alert",["clear"]))})),B=q,N=r("2db4"),z=Object(m["a"])(B,E,R,!1,null,null,null),M=z.exports;f()(z,{VBtn:g["a"],VIcon:y["a"],VSnackbar:N["a"]});var D=n["a"].extend({name:"App",components:{Navigation:F,Error:M},mounted:function(){var e=localStorage.getItem("is_dark_theme")||"false";this.$vuetify.theme.dark="true"===e},computed:{theme:function(){return this.$vuetify.theme.dark?"dark":"light"}}}),Y=D,H=(r("034f"),r("7496")),J=r("a523"),G=r("f6c4"),W=Object(m["a"])(Y,a,i,!1,null,null,null),Q=W.exports;f()(W,{VApp:H["a"],VContainer:J["a"],VMain:G["a"]});var X=r("9483");Object(X["a"])("".concat("/my-service/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var K=r("afbc"),Z=r("0613"),ee=r("fcf4"),te=r("f309");n["a"].use(te["a"]);var re=new te["a"]({theme:{dark:!1,themes:{dark:{primary:"#539BF5",accent:"#FF4081",secondary:"#ffe18d",success:"#4CAF50",info:"#EEEEEE",warning:"#FB8C00",error:"#FF5252",background:ee["a"].grey.darken3,main:"1E1E1E"},light:{primary:"#0466D6",accent:"#e91e63",secondary:"#30b1dc",success:"#4CAF50",info:"#BDBDBD",warning:"#FB8C00",error:"#FF5252",background:"#f0f2f5",main:"#FAFAFA"}}}});n["a"].config.productionTip=!1,n["a"].filter("truncate",(function(e,t,r){return e.length>t?e.substring(0,t)+r:e})),new n["a"]({store:Z["a"],router:K["a"],vuetify:re,render:function(e){return e(Q)},beforeCreate:function(){console.log("Vue initialized 🎉")}}).$mount("#app")},ee35:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return o}));var n=r("79f6"),a="/service/",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return n["b"].get(a+"random/"+e)},o=function(e){return n["b"].delete(a+e)},s=function(e){return n["b"].post("".concat(a),e)},c=function(e,t){return n["b"].patch("".concat(a).concat(e),t)},l=function(e,t){var r={headers:{crossdomain:!0,"Content-Type":"undefined"}};return n["b"].post("".concat(a,"upload/").concat(e),t,r)}},f1a0:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r("5530"),a=r("ade3"),i=r("15fd"),o=(r("4d63"),r("ac1f"),r("25f0"),r("159b"),function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}),s=function(e){var t=[];return e.forEach((function(e){var r;null===e||void 0===e||null===(r=e.services)||void 0===r||r.forEach((function(r){var o=function(e){e.services;var t=Object(i["a"])(e,["services"]);return t}(e);"serviceId"in r||delete Object.assign(r,Object(a["a"])({},"serviceId",r["_id"]))["_id"],t.push(Object(n["a"])(Object(n["a"])({},r),o))}))})),t}}});
//# sourceMappingURL=app.bed4ea0d.js.map